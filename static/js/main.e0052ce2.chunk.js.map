{"version":3,"sources":["components/Input/Input.js","components/Button/Button.js","components/List/Item.js","components/List/List.js","components/Variable/Variable.js","components/Variable/VariableContainer.js","components/Header/Header.js","validators/index.js","validators/vin.js","hooks/useReduxCallback.js","api/axios.js","api/index.js","api/vehicles.js","mappers/index.js","mappers/mapProperty.js","mappers/mapVariable.js","utils/index.js","utils/pendingCondition.js","redux/slices/vehicles.js","screens/Main/Main.js","screens/Variables/Variables.js","App.js","reportWebVitals.js","redux/reducer.js","redux/store.js","index.js"],"names":["Message","message","className","Input","field","label","props","join","render","Button","children","type","disabled","onClick","Item","List","Variable","name","groupName","description","dataType","VariableContainer","htmlDescription","useMemo","parse","Header","to","vin","Yup","required","matches","max","useReduxCallback","actionCreator","dispatch","useDispatch","useCallback","instance","axios","create","baseURL","defaults","timeout","vehiclesAPI","decode","api","get","getProperties","mappers","mapProperty","variable","id","nanoid","value","Value","mapVariable","property","ID","Description","DataType","GroupName","Name","utils","pendingCondition","vinCode","getState","vehicles","loading","slice","decodeVin","createAsyncThunk","a","state","vins","index","findIndex","response","properties","data","Results","filter","map","condition","getVariables","vehicle","createSlice","initialState","currentVinCode","cacheLimit","variables","reducers","extraReducers","builder","addCase","pending","action","meta","requestStatus","fulfilled","payload","splice","length","rejected","selectCurrentVinCode","selectVins","selectIsVinLoading","selectVariables","selectVinCodes","createSelector","selectCurrentVin","find","VinSchema","shape","validators","initialValues","Main","decodeVinCallback","useSelector","isVinLoading","currentVin","vinCodes","onSubmitHandler","fields","onCodeClickHandler","event","preventDefault","target","dataset","code","handleOnCodeClick","validationSchema","validateOnBlur","validateOnChange","onSubmit","handleSubmit","component","key","href","p","Variables","getVariablesCallback","useEffect","App","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","reducer","ReactDOM","StrictMode","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.e0052ce2.chunk.js","sourcesContent":["import './Input.scss';\r\n\r\nimport React from 'react';\r\nimport {ErrorMessage} from 'formik';\r\n\r\nfunction Input({className, field, label, ...props}) {\r\n  return (\r\n    <label\r\n      {...props}\r\n      className={[\r\n        'input',\r\n        className,\r\n      ].join(' ')}\r\n    >\r\n      {\r\n        label\r\n          ? <span className={'input__label'}>{label}</span>\r\n          : null\r\n      }\r\n      <input\r\n        {...field}\r\n        className={'input__element'}\r\n      />\r\n      <ErrorMessage\r\n        {...field}\r\n        render={Message}\r\n      />\r\n    </label>\r\n  );\r\n}\r\n\r\nfunction Message(message) {\r\n  return (\r\n    <span className={'input__error'}>{message}</span>\r\n  );\r\n}\r\n\r\nexport default Input;","import './Button.scss';\r\n\r\nimport React from 'react';\r\n\r\nfunction Button({className, children, type, disabled, onClick, ...props}) {\r\n  return (\r\n    <div\r\n      {...props}\r\n      className={[\r\n        'button',\r\n        className,\r\n      ].join(' ')}\r\n    >\r\n      <button\r\n       className={'button__element'}\r\n       type={type}\r\n       disabled={disabled}\r\n       onClick={onClick}\r\n      >{children}</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Button;","import './List.scss';\r\n\r\nimport React from 'react';\r\n\r\nfunction Item({className, children, ...props}) {\r\n  return (\r\n    <li\r\n      {...props}\r\n      className={[\r\n        'list__item',\r\n        className\r\n      ].join(' ')}\r\n    >\r\n      {children}\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Item;\r\n","import './List.scss';\r\n\r\nimport React from 'react';\r\n\r\nimport Item from './Item';\r\n\r\nfunction List({className, children, ...props}) {\r\n  return (\r\n    <ul\r\n      {...props}\r\n      className={[\r\n        'list',\r\n        className,\r\n      ].join(' ')}\r\n    >\r\n      {children}\r\n    </ul>\r\n  );\r\n}\r\n\r\nList.Item = Item;\r\n\r\nexport default List;","import './Variable.scss';\r\n\r\nimport React from 'react';\r\n\r\nfunction Variable({className, name, groupName, description, dataType, ...props}) {\r\n  return (\r\n    <article\r\n      {...props}\r\n      className={[\r\n        'variable',\r\n        className,\r\n      ].join(' ')}\r\n    >\r\n      <header className={'variable__header'}>\r\n        <p className={'text'}>\r\n          {name}\r\n          {' '}\r\n          {\r\n            groupName\r\n              ? `<${groupName}>`\r\n              : null\r\n          }\r\n        </p>\r\n      </header>\r\n      {\r\n        dataType\r\n          ? (\r\n            <p className={'text'}>\r\n              {'DataType:'}\r\n              {' '}\r\n              <span className={'subtext'}>{dataType}</span>\r\n            </p>\r\n          )\r\n          : null\r\n      }\r\n      {\r\n        description\r\n          ? (\r\n            <p className={'text'}>\r\n              {'Description:'}\r\n              {' '}\r\n              <span className={'subtext'}>{description}</span>\r\n            </p>\r\n          )\r\n          : null\r\n      }\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Variable;","import React from 'react';\r\nimport parse from \"html-react-parser\";\r\n\r\nimport Variable from \"./Variable\";\r\n\r\nimport {\r\n  useMemo,\r\n} from 'react';\r\n\r\nfunction VariableContainer({description, ...props}) {\r\n\r\n  const htmlDescription = useMemo(\r\n    () => parse(description),\r\n    [description],\r\n  );\r\n\r\n  return <Variable\r\n    {...props}\r\n    description={htmlDescription}\r\n  />;\r\n}\r\n\r\nexport default VariableContainer;","import './Header.scss';\r\nimport 'assets/scss/fonts.scss';\r\n\r\nimport React from 'react';\r\n\r\nimport {\r\n  Link,\r\n} from 'react-router-dom';\r\n\r\nfunction Header({className, ...props}) {\r\n  return (\r\n    <header\r\n      {...props}\r\n      className={[\r\n        'header',\r\n        className,\r\n      ].join(' ')}\r\n    >\r\n      <Link to={'/'}><p className={'title'}>Vin Decoder</p></Link>\r\n      <div>\r\n        <nav>\r\n          <ul className={'header__links'}>\r\n            <li className={'header__link'}><Link to={'/'}><p className={'text'}>home</p></Link></li>\r\n            <li className={'header__link'}><Link to={'/variables'}><p className={'text'}>variables</p></Link></li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import vin from './vin';\r\n\r\nexport default {\r\n  vin,\r\n};","import * as Yup from 'yup';\r\n\r\nexport default Yup\r\n  .string()\r\n  .required('The field is required')\r\n  .matches(/^[A-Z0-9]*$/, 'Should consists only from uppercase letters and numbers')\r\n  .max(17, 'Max length is 17 chars');","import {\r\n  useCallback,\r\n} from 'react';\r\n\r\nimport {\r\n  useDispatch\r\n} from \"react-redux\";\r\n\r\nfunction useReduxCallback(actionCreator) {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const reduxCallback = useCallback(\r\n    (...args) => dispatch(actionCreator(...args)),\r\n    [actionCreator, dispatch],\r\n  );\r\n\r\n  return reduxCallback;\r\n}\r\n\r\nexport default useReduxCallback;","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://vpic.nhtsa.dot.gov/api/',\r\n});\r\n\r\ninstance.defaults.timeout = 15 * 1000;\r\n\r\nexport default instance;","import vehiclesAPI from \"./vehicles\";\r\n\r\nexport default {\r\n  vehiclesAPI,\r\n};","import api from './axios';\r\n\r\nconst vehiclesAPI = {\r\n\r\n  decode(vin) {\r\n    return api.get(`/vehicles/DecodeVin/${vin}?format=json`);\r\n  },\r\n\r\n  getProperties() {\r\n    return api.get(`/vehicles/GetVehicleVariableList?format=json`);\r\n  },\r\n\r\n};\r\n\r\nexport default vehiclesAPI;","import mapProperty from \"./mapProperty\";\r\nimport mapVariable from \"./mapVariable\";\r\n\r\nconst mappers = {\r\n  mapProperty,\r\n  mapVariable,\r\n};\r\n\r\nexport default mappers;","import {nanoid} from 'nanoid';\r\n\r\nexport default function mapProperty(variable) {\r\n  return {\r\n    id: nanoid(),\r\n    label: variable.Variable,\r\n    value: variable.Value\r\n  };\r\n}","export default function mapVariables(property) {\r\n  return {\r\n    id: property.ID,\r\n    description: property.Description,\r\n    dataType: property.DataType,\r\n    groupName: property.GroupName,\r\n    name: property.Name,\r\n  };\r\n}","import pendingCondition from \"./pendingCondition\";\r\n\r\nconst utils = {\r\n  pendingCondition,\r\n};\r\n\r\nexport default utils;","export default function (vinCode, {getState}) {\r\n  const state = getState();\r\n  if (state.vehicles.loading === 'pending') return false;\r\n}","import {\r\n  createSlice,\r\n  createAsyncThunk,\r\n  createSelector,\r\n} from '@reduxjs/toolkit';\r\n\r\nimport api from 'api';\r\nimport mappers from 'mappers';\r\nimport utils from 'utils';\r\n\r\nconst slice = 'vehicles';\r\n\r\nconst initialState = {\r\n  currentVinCode: null,\r\n  cacheLimit: 5,\r\n  vins: [],\r\n  loading: 'idle',\r\n  variables: [],\r\n};\r\n\r\nexport const decodeVin = createAsyncThunk(\r\n  slice+ '/decodeVin',\r\n  async function (vinCode, {getState}) {\r\n\r\n    const state = getState();\r\n    const vins = state.vehicles.vins;\r\n    const index = vins.findIndex(vin => vin.vinCode === vinCode);\r\n\r\n    if (index > -1) return vins[index]\r\n\r\n    const response = await api.vehiclesAPI.decode(vinCode);\r\n\r\n    const properties = response.data.Results\r\n      .filter(variable => variable.Value)\r\n      .map(mappers.mapProperty);\r\n\r\n    return {\r\n      vinCode: vinCode,\r\n      properties: properties,\r\n      message: response.data.Message,\r\n    };\r\n  },\r\n  {\r\n    condition: utils.pendingCondition,\r\n  },\r\n);\r\n\r\nexport const getVariables = createAsyncThunk(\r\n  slice + '/getVariables',\r\n  async function () {\r\n\r\n    const response = await api.vehiclesAPI.getProperties();\r\n\r\n    return response.data.Results\r\n      .map(mappers.mapVariable);\r\n  },\r\n  {\r\n    condition: utils.pendingCondition,\r\n  },\r\n)\r\n\r\nconst vehicle = createSlice({\r\n  name: slice,\r\n  initialState,\r\n  reducers: {},\r\n  extraReducers: (builder) => {\r\n\r\n    builder.addCase(decodeVin.pending, (state, action) => {\r\n      state.loading = action.meta.requestStatus;\r\n    });\r\n\r\n    builder.addCase(decodeVin.fulfilled, (state, action) => {\r\n      state.currentVinCode = action.payload.vinCode;\r\n      state.loading = action.meta.requestStatus;\r\n\r\n      const index = state.vins.findIndex(vin => vin.vinCode === action.payload.vinCode);\r\n\r\n      if (index > -1) {\r\n        // move current vin at history start\r\n        state.vins.splice(index, 1);\r\n        state.vins.splice(0, 0, action.payload);\r\n      } else {\r\n        // add new vin\r\n        state.vins.splice(0, 0, action.payload);\r\n\r\n        // remove last vin if there are more then cache limit\r\n        if (state.vins.length > state.cacheLimit) {\r\n          state.vins.splice(state.vins.length - 1, 1);\r\n        }\r\n      }\r\n    });\r\n\r\n    builder.addCase(decodeVin.rejected, (state, action) => {\r\n      state.loading = action.meta.requestStatus;\r\n    });\r\n\r\n    builder.addCase(getVariables.fulfilled, (state, action) => {\r\n      state.variables = action.payload;\r\n    });\r\n\r\n  },\r\n});\r\n\r\nexport default vehicle.reducer\r\n\r\nexport const selectCurrentVinCode = state => state.vehicles.currentVinCode;\r\nexport const selectVins = state => state.vehicles.vins;\r\nexport const selectIsVinLoading = state => state.vehicles.loading === 'pending';\r\nexport const selectVariables = state => state.vehicles.variables;\r\n\r\nexport const selectVinCodes = createSelector(\r\n  selectVins,\r\n  (vins) => vins.map(vin => vin.vinCode),\r\n);\r\n\r\nexport const selectCurrentVin = createSelector(\r\n  selectCurrentVinCode,\r\n  selectVins,\r\n  (currentVinCode, vins) => vins.find(vin => vin.vinCode === currentVinCode),\r\n);","import 'assets/scss/fonts.scss';\r\nimport './Main.scss';\r\n\r\nimport React from 'react';\r\nimport * as Yup from 'yup';\r\n\r\nimport validators from 'validators';\r\n\r\nimport {\r\n  useCallback,\r\n} from \"react\";\r\n\r\nimport {\r\n  useSelector,\r\n} from \"react-redux\";\r\n\r\nimport {\r\n  Formik,\r\n  Field,\r\n} from 'formik';\r\n\r\nimport {\r\n  useReduxCallback,\r\n} from 'hooks';\r\n\r\nimport {\r\n  Input,\r\n  Button,\r\n  List,\r\n} from 'components';\r\n\r\nimport {\r\n  decodeVin,\r\n  selectCurrentVinCode,\r\n  selectIsVinLoading,\r\n  selectCurrentVin,\r\n  selectVinCodes,\r\n} from 'redux/slices/vehicles';\r\n\r\nconst VinSchema = Yup.object().shape({\r\n  vin: validators.vin,\r\n});\r\n\r\nconst vinDefault = process.env.NODE_ENV === 'development'\r\n  ? '5UXWX7C5'\r\n  : '';\r\n\r\nconst initialValues = {\r\n  vin: vinDefault,\r\n};\r\n\r\nfunction Main() {\r\n\r\n  const decodeVinCallback = useReduxCallback(decodeVin);\r\n\r\n  const currentVinCode = useSelector(selectCurrentVinCode);\r\n  const isVinLoading = useSelector(selectIsVinLoading);\r\n  const currentVin = useSelector(selectCurrentVin);\r\n  const vinCodes = useSelector(selectVinCodes);\r\n\r\n  const onSubmitHandler = useCallback(\r\n    (fields) => decodeVinCallback(fields.vin),\r\n    [decodeVinCallback],\r\n  );\r\n\r\n  const onCodeClickHandler = useCallback(\r\n    (event) => handleOnCodeClick(event, decodeVinCallback),\r\n    [decodeVinCallback],\r\n  );\r\n\r\n  return (\r\n    <div className={'main'}>\r\n      <Formik\r\n        initialValues={initialValues}\r\n        validationSchema={VinSchema}\r\n        validateOnBlur={true}\r\n        validateOnChange={true}\r\n        onSubmit={onSubmitHandler}\r\n      >\r\n        {({handleSubmit}) => {\r\n          return (\r\n            <div className={'main__form'}>\r\n              <Field label={'Vin:'} name={'vin'} component={Input}/>\r\n              <Button\r\n                className={'main__decode-button'}\r\n                type={'submit'}\r\n                disabled={isVinLoading}\r\n                onClick={handleSubmit}\r\n              >\r\n                decode\r\n              </Button>\r\n            </div>\r\n          )\r\n        }}\r\n      </Formik>\r\n      <p className={'title main__title'}>History</p>\r\n      <List>\r\n        {\r\n          vinCodes\r\n            ? vinCodes.map((code, key) =>(\r\n              <List.Item key={key}>\r\n                <a\r\n                  href={'#'}\r\n                  data-code={code}\r\n                  onClick={onCodeClickHandler}\r\n                >\r\n                  {code}\r\n                </a>\r\n              </List.Item>\r\n            ))\r\n            : null\r\n        }\r\n      </List>\r\n      <p className={'title main__title'}>Message:</p>\r\n      {\r\n        currentVin\r\n          ? <p className={'subtext'}>{currentVin.message}</p>\r\n          : null\r\n      }\r\n      <p className={'title main__title'}>\r\n        {'Vin properties'}\r\n        {currentVinCode && ` (${currentVinCode})`}\r\n        {':'}\r\n      </p>\r\n      <List>\r\n        {\r\n          currentVin\r\n            ? currentVin.properties.map(p => (\r\n              <List.Item key={p.id}>\r\n                <p className={'subtext'}>\r\n                  <span className={'text'}>{p.label}:</span>\r\n                  {' '}\r\n                  {p.value}\r\n                </p>\r\n              </List.Item>\r\n            ))\r\n            : null\r\n        }\r\n      </List>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction handleOnCodeClick(event, decodeVinCallback) {\r\n  event.preventDefault();\r\n  decodeVinCallback(event.target.dataset.code);\r\n}\r\n\r\nexport default Main;","import 'assets/scss/fonts.scss';\r\nimport './Variables.scss';\r\n\r\nimport React from 'react';\r\n\r\nimport {\r\n  useEffect,\r\n} from 'react';\r\n\r\nimport {\r\n  useSelector,\r\n} from \"react-redux\";\r\n\r\nimport {\r\n  List,\r\n  Variable,\r\n} from 'components';\r\n\r\nimport {\r\n  useReduxCallback,\r\n} from 'hooks';\r\n\r\nimport {\r\n  getVariables,\r\n  selectVariables,\r\n} from 'redux/slices/vehicles';\r\n\r\nfunction Variables() {\r\n\r\n  const getVariablesCallback = useReduxCallback(getVariables);\r\n\r\n  const variables = useSelector(selectVariables);\r\n\r\n  useEffect(\r\n    () => getVariablesCallback(),\r\n    [getVariablesCallback],\r\n  );\r\n\r\n  return (\r\n    <div className={'variables'}>\r\n      <p className={'title variables__title'}>Variables:</p>\r\n      <List>\r\n        {\r\n          variables\r\n            ? variables.map(variable => ((\r\n              <List.Item key={variable.id}>\r\n                <Variable\r\n                  name={variable.name}\r\n                  groupName={variable.groupName}\r\n                  description={variable.description}\r\n                  dataType={variable.dataType}\r\n                />\r\n              </List.Item>\r\n            )))\r\n            : null\r\n        }\r\n      </List>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Variables;","import './App.scss';\r\n\r\nimport {\r\n  Switch,\r\n  Route,\r\n} from \"react-router-dom\";\r\n\r\nimport {\r\n  Header,\r\n} from 'components';\r\n\r\nimport Main from 'screens/Main/Main';\r\nimport Variables from 'screens/Variables/Variables';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Header/>\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <Main/>\r\n        </Route>\r\n        <Route path={'/variables'}>\r\n          <Variables/>\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import vehicles from \"./slices/vehicles\";\r\n\r\nexport default {\r\n  vehicles,\r\n};","import {configureStore} from '@reduxjs/toolkit';\r\nimport reducer from './reducer';\r\n\r\nexport const store = configureStore({\r\n  reducer: reducer,\r\n});","import './index.scss';\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from 'react-redux';\r\n\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {store} from 'redux/store';\r\n\r\nimport {\r\n  BrowserRouter,\r\n} from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n        <App />\r\n      </BrowserRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}